# 📄 PDF Support Guide

## Overview

ClassNotes AI now supports **PDF uploads**! You can upload lecture slides, textbooks, course readings, and any PDF document alongside your video lectures.

## ✅ What's New

### PDF Features Added:
- ✅ **Upload PDFs** - Just like videos, drag and drop or select PDF files
- ✅ **Text Extraction** - Automatically extracts text from all pages
- ✅ **AI Summaries** - Get GPT-powered summaries of PDF content
- ✅ **Q&A Chat** - Ask questions about your PDFs
- ✅ **Combined Search** - Query across PDFs and videos together
- ✅ **Page Markers** - Text extracted with page numbers for reference

---

## 🚀 How to Use

### 1. Upload a PDF

**Via UI (http://localhost:3000):**
1. Go to your class
2. Click "Upload Session"
3. Select a PDF file
4. Give it a title (optional)
5. Click "Upload"

**The API will:**
- Detect it's a PDF
- Extract all text content
- Add page markers (=== Page 1 ===, etc.)
- Generate an AI summary with GPT
- Store it as a session

### 2. Ask Questions

Once uploaded, you can ask questions like:
- "What are the main topics covered in this document?"
- "Summarize page 5"
- "What examples are given for concept X?"
- "Compare this with the video lecture from session 2"

### 3. View Summaries

PDFs get automatic summaries just like videos:
- Key concepts extracted
- Main points highlighted
- Overview generated by GPT

---

## 📝 Supported PDF Types

### ✅ Works Great With:
- **Lecture slides** (PowerPoint exports, Keynote PDFs)
- **Course readings** (articles, papers)
- **Textbook chapters**
- **Study guides**
- **Notes and handouts**
- **Problem sets**

### ⚠️ May Have Issues With:
- Scanned documents (image-based PDFs without OCR)
- Password-protected PDFs
- Heavily formatted PDFs with complex layouts
- PDFs with mostly images and minimal text

**Tip**: For scanned PDFs, use an OCR tool first to convert them to searchable PDFs.

---

## 🔧 Technical Details

### Text Extraction Process:

```
1. PDF uploaded → Saved to uploads/
2. PyPDF2 library → Extracts text from each page
3. Page markers added → "=== Page N ===" for reference
4. Text stored → Saved as session "transcript"
5. GPT processes → Generates summary
6. Ready for Q&A → Chat with the content
```

### Example Output:

```
=== Page 1 ===
Introduction to Machine Learning
Lecture 1 - Overview
...

=== Page 2 ===
Key Concepts:
- Supervised Learning
- Unsupervised Learning
...
```

---

## 🆚 PDF vs Video

| Feature | PDF | Video |
|---------|-----|-------|
| **Upload** | ✅ Instant | ⏱️ Transcription required |
| **Speed** | ⚡ Very fast | 🐢 Depends on length |
| **Accuracy** | ✅ Text is exact | ⚠️ Transcription may have errors |
| **Cost** | 💰 Only GPT summary | 💰 Transcription + GPT |
| **Best For** | Slides, readings | Lectures, talks |

---

## 💡 Use Cases

### 1. **Lecture Slides + Video**
- Upload video lecture
- Upload corresponding slides (PDF)
- Ask: "What did the professor say about the concept on slide 5?"

### 2. **Course Readings**
- Upload textbook chapter PDF
- Get AI summary
- Ask study questions

### 3. **Problem Sets**
- Upload problem set PDF
- Ask: "Explain problem 3"
- Get step-by-step guidance

### 4. **Study Materials**
- Upload all course PDFs
- Query across everything
- "What have we learned about X across all materials?"

---

## 🛠️ API Usage

### Upload Endpoint

The same `/api/upload` endpoint handles both videos and PDFs:

```bash
curl -X POST http://localhost:8000/api/upload \
  -F "file=@lecture_slides.pdf" \
  -F "class_id=cs229-ml" \
  -F "session_title=Lecture 1 Slides"
```

**Response:**
```json
{
  "ok": true,
  "file_type": "pdf",
  "class_id": "cs229-ml",
  "session_id": "session-123",
  "title": "Lecture 1 Slides",
  "transcript": "=== Page 1 ===\n...",
  "summary": "This lecture covers...",
  "num_pages": 25
}
```

---

## 📊 Metadata Extracted

For each PDF, the system extracts:
- **Number of pages**
- **Title** (if set in PDF metadata)
- **Author** (if set in PDF metadata)
- **Subject** (if set in PDF metadata)
- **Creator** (PDF creation software)

---

## 🧪 Testing

Test PDF support:

```bash
cd /Users/josuediaz/nvidiahack2025
python3 test_pdf.py
```

Expected output:
```
🔧 Testing PDF Reader Module...
✅ PDFReader initialized
✅ extract_text_from_pdf method available
✅ validate_pdf method available
✅ get_pdf_info method available
✅ PDF support is ready!
```

---

## 🔍 Troubleshooting

### Issue: "No text could be extracted from PDF"
**Cause**: The PDF contains only images (scanned document)
**Solution**: Use OCR software to convert it to a searchable PDF first

### Issue: "PDF has no pages"
**Cause**: Corrupted or invalid PDF file
**Solution**: Try re-downloading or re-exporting the PDF

### Issue: Text looks garbled
**Cause**: Unusual PDF encoding or font embedding issues
**Solution**: Export the PDF again with standard fonts, or try a different PDF reader/exporter

---

## 💰 Cost Considerations

### Using OpenAI GPT-4o-mini:

**Per PDF uploaded:**
- Small PDF (5 pages, ~2K tokens): ~$0.0003
- Medium PDF (20 pages, ~10K tokens): ~$0.0015
- Large PDF (100 pages, ~50K tokens): ~$0.0075

**Very economical!** Even with heavy use, costs are minimal.

---

## 🎯 Best Practices

1. **Descriptive Titles**: Give PDFs clear titles for easy reference
2. **Organize by Class**: Keep PDFs in their respective classes
3. **Combine with Videos**: Upload both lecture videos and slides together
4. **Ask Specific Questions**: Reference page numbers when asking about PDFs
5. **Check Text Quality**: Preview the extracted text if accuracy is critical

---

## 🚀 What's Next?

Future enhancements could include:
- Image extraction from PDFs
- Table parsing
- Formula recognition (LaTeX/MathML)
- Diagram understanding
- Multi-PDF comparison tools

---

## 📚 More Information

- **Setup Guide**: See `QUICKSTART_OPENAI.md`
- **API Docs**: Visit http://localhost:8000/docs
- **Main README**: See `README.md`

---

## ✨ Summary

You can now upload **any PDF** to ClassNotes AI and:
- Get instant text extraction
- Generate AI summaries
- Ask questions about the content
- Search across PDFs and videos together

Perfect for managing all your course materials in one place! 🎓

